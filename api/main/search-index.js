crystal_doc_search_index_callback({"repository_name":"Rosetta","body":"# Rosetta\n\n<p align=\"center\">\n  <img src=\"https://wout.github.io/rosetta/v0.1.0/assets/rosetta-logo-accent.png\" width=\"256\" alt=\"Rosetta logo\">\n</p>\n\n\nA blazing fast internationalization (i18n) library for Crystal with compile-time\nkey lookup. You'll never have a `missing translation` in your app, ever again.\n\n![GitHub](https://img.shields.io/github/license/wout/rosetta)\n\n## Why use Rosetta?\n\n### You'll never have a missing translation\nRosetta is different from other internationalization libraries because it\nhandles key lookup at compile-time rather than runtime. The significant\nadvantage is that you'll be able to find missing translations - or typos in\nyour locale keys - during development rather than after you've deployed your\napp. This is also true for translation keys in all additional locales.\n\n### You'll never have a missing interpolation\nIn Rosetta, interpolation keys are arguments to the translation method. So if\nyou're missing an argument, the compiler will complain. The parser will also\ncompare interpolation keys in additional locales to the ones found in the\ndefault locale, and complain if some are missing.\n\n### Rosetta is 10x faster than similar libraries\nBenchmarking against other libraries which also use YAML or JSON files for\nlocales, Rosetta is about 10x faster than any other one.\n\nFor simple translations:\n\n```\ncrimson-knight/i18n.cr translation 147.72k (  6.77µs) (± 3.36%) 0.99kB/op 178.77× slower\n     crystal-i18n/i18n translation   2.25M (443.68ns) (± 3.44%)  48.0B/op  11.05× slower\n         syeopite/lens translation   1.10M (912.67ns) (± 7.10%)   176B/op  22.72× slower\n          wout/rosetta translation  24.89M ( 40.17ns) (± 6.59%)   0.0B/op         fastest\n\n```\n\nFor translations with interpolations:\n\n```\ncrimson-knight/i18n.cr interpolation 145.50k (  6.87µs) (± 4.47%)  0.99kB/op  23.12× slower\n     crystal-i18n/i18n interpolation 138.84k (  7.20µs) (± 4.16%)  2.05kB/op  21.23× slower\n         syeopite/lens interpolation 314.68k (  3.18µs) (± 7.30%)    561B/op   9.29× slower\n          wout/rosetta interpolation   2.95M (339.26ns) (± 7.17%)   80.0B/op         fastest\n```\n\nRosetta is that much faster because a lot of the hard work happens at\ncompile-time. And because the majority of the data is stored on the [stack\nrather than the\nheap](https://stackoverflow.com/questions/79923/what-and-where-are-the-stack-and-heap),\nout of the scope of garbage collector.\n\nRead more on [the official docs page](https://wout.github.io/rosetta/latest).\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n```yaml\ndependencies:\n  rosetta:\n    github: wout/rosetta\n```\n\n2. Run `shards install`\n\n3. Run `bin/rosetta --init`\n\n4. Require the shard\n\n```cr\n# src/shards.cr\nrequire \"rosetta\"\n```\n\n5. Include the `Rosetta::Translatable` mixin\n\n```cr\n# e.g. src/pages/main_layout.cr\ninclude Rosetta::Translatable\n```\n\n6. Localize your app\n\n```cr\nRosetta.locale = :es\n\nclass Hello::ShowPage < MainLayout\n  def content\n    h1 r(\"welcome_message\").t(name: \"Brian\") # => \"¡Hola Brian!\"\n  end\nend\n```\n\nRead more on [the official docs page](https://wout.github.io/rosetta/latest).\n\n## To-do\n- [X] Add specs for the existing code\n- [X] Make settings accessible to the compiler\n- [X] Send `default_locale` and `available_locales` to the parser\n- [X] Implement key comparison between available locales in the parser\n- [X] Add compiler error messages for mismatching keys\n- [X] Implement inferred locale keys at macro level\n- [X] Interpolation (with %{} tag for interpolation keys)\n- [X] Check existence of interpolation keys in all translations at compile-time\n- [X] Translatable mixin\n- [X] Localization of numeric values\n- [X] Localization of date and time values\n- [X] Localizable mixin\n- [X] Locale exceptions\n- [X] Add setup scripts\n- [ ] Pluralization (with one/many/other/count/... convention)\n- [ ] Implement fallbacks\n\n## Development\n\nMake sure you have [Guardian.cr](https://github.com/f/guardian) installed. Then\nrun:\n\n```bash\n$ guardian\n```\n\nThis will automatically:\n- run ameba for src and spec files\n- run the relevant spec for any file in src\n- run spec file whenever they are saved\n- install shards whenever you save shard.yml\n\n## Documentation\n\n- [Reference](https://wout.github.io/rosetta/main)\n- [API Docs](https://wout.github.io/rosetta/api/main)\n\n## Contributing\n\n1. Fork it (<https://github.com/wout/rosetta/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [wout](https://github.com/wout) - creator and maintainer\n\n## Acknowledgements\nThis shard pulls inpiration from the following projects:\n- [crimson-knight/i18n.cr](https://github.com/crimson-knight/i18n.cr)\n- [crystal-i18n/i18n](https://github.com/crystal-i18n/i18n)\n- [syeopite/lens](https://github.com/syeopite/lens)\n- [Rails](https://github.com/rails/rails)\n","program":{"html_id":"Rosetta/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"Rosetta","program":true,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"Rosetta/Lucky","path":"Lucky.html","kind":"module","full_name":"Lucky","name":"Lucky","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/lucky/allowed_in_tags.cr","line_number":3,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/lucky/allowed_in_tags.cr#L3"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"Rosetta/Lucky/AllowedInTags","path":"Lucky/AllowedInTags.html","kind":"module","full_name":"Lucky::AllowedInTags","name":"AllowedInTags","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/lucky/allowed_in_tags.cr","line_number":3,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/lucky/allowed_in_tags.cr#L3"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Lucky","kind":"module","full_name":"Lucky","name":"Lucky"},"doc":"Objects including this module can safely be used in Lucky as a value for html\ntags, without the need to explicitly convert them to a string.","summary":"<p>Objects including this module can safely be used in Lucky as a value for html tags, without the need to explicitly convert them to a string.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"Rosetta/Rosetta","path":"Rosetta.html","kind":"module","full_name":"Rosetta","name":"Rosetta","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/aliases.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/aliases.cr#L1"},{"filename":"src/rosetta/backend.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/backend.cr#L1"},{"filename":"src/rosetta/config.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/config.cr#L1"},{"filename":"src/rosetta/configuration.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/configuration.cr#L1"},{"filename":"src/rosetta/interpolation.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/interpolation.cr#L1"},{"filename":"src/rosetta/localizable.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localizable.cr#L1"},{"filename":"src/rosetta/localization.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L1"},{"filename":"src/rosetta/lucky/integration.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/lucky/integration.cr#L1"},{"filename":"src/rosetta/parser.cr","line_number":5,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L5"},{"filename":"src/rosetta/parser/builder.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser/builder.cr#L1"},{"filename":"src/rosetta/translatable.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translatable.cr#L1"},{"filename":"src/rosetta/translation.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L1"},{"filename":"src/rosetta/version.cr","line_number":1,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/version.cr#L1"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.2.0\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"html_id":"interpolate(translation:String,values:Hash(String|Symbol,String|Time)|NamedTuple)-class-method","name":"interpolate","doc":"Interpolates a given string with the values from the given hash or named\ntuple.","summary":"<p>Interpolates a given string with the values from the given hash or named tuple.</p>","abstract":false,"args":[{"name":"translation","doc":null,"default_value":"","external_name":"translation","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String | Symbol, String | Time) | NamedTuple"}],"args_string":"(translation : String, values : Hash(String | Symbol, String | Time) | NamedTuple)","args_html":"(translation : String, values : Hash(String | Symbol, String | Time) | NamedTuple)","location":{"filename":"src/rosetta/interpolation.cr","line_number":4,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/interpolation.cr#L4"},"def":{"name":"interpolate","args":[{"name":"translation","doc":null,"default_value":"","external_name":"translation","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String | Symbol, String | Time) | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"values.each do |key, value|\n  translation = if value.is_a?(Time)\n    localize(translation, value)\n  else\n    translation.gsub(/\\%{#{key}}/, value)\n  end\nend\ntranslation\n"}},{"html_id":"locale:String-class-method","name":"locale","doc":"Gets the current locale at runtime using the config instance stored in the\ncurrent fiber.","summary":"<p>Gets the current locale at runtime using the config instance stored in the current fiber.</p>","abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/configuration.cr","line_number":30,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/configuration.cr#L30"},"def":{"name":"locale","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"config.locale"}},{"html_id":"locale=(locale:String|Symbol)-class-method","name":"locale=","doc":"Sets the current locale at runtime using the config instance stored in the\ncurrent fiber.","summary":"<p>Sets the current locale at runtime using the config instance stored in the current fiber.</p>","abstract":false,"args":[{"name":"locale","doc":null,"default_value":"","external_name":"locale","restriction":"String | Symbol"}],"args_string":"(locale : String | Symbol)","args_html":"(locale : String | Symbol)","location":{"filename":"src/rosetta/configuration.cr","line_number":24,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/configuration.cr#L24"},"def":{"name":"locale=","args":[{"name":"locale","doc":null,"default_value":"","external_name":"locale","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"config.locale = locale"}},{"html_id":"localize_time(format:String,time:Time)-class-method","name":"localize_time","doc":"Uses a given format to localize a given Time object, for example:\n\n```\nRosetta.localize_time(\"%d %b %Y %H:%M:%S\", Time.local)\n```","summary":"<p>Uses a given format to localize a given Time object, for example:</p>","abstract":false,"args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":"String"},{"name":"time","doc":null,"default_value":"","external_name":"time","restriction":"Time"}],"args_string":"(format : String, time : Time)","args_html":"(format : String, time : Time)","location":{"filename":"src/rosetta/localization.cr","line_number":63,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L63"},"def":{"name":"localize_time","args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":"String"},{"name":"time","doc":null,"default_value":"","external_name":"time","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"time.to_s(localize_day_and_month_names(time, format))"}},{"html_id":"with_locale(locale:String|Symbol,&)-class-method","name":"with_locale","doc":"Temporarily use a different locale.","summary":"<p>Temporarily use a different locale.</p>","abstract":false,"args":[{"name":"locale","doc":null,"default_value":"","external_name":"locale","restriction":"String | Symbol"}],"args_string":"(locale : String | Symbol, &)","args_html":"(locale : String | Symbol, &)","location":{"filename":"src/rosetta/translation.cr","line_number":20,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L20"},"def":{"name":"with_locale","args":[{"name":"locale","doc":null,"default_value":"","external_name":"locale","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  current_locale = Rosetta.locale\n  Rosetta.locale = locale\n  yield\nensure\n  Rosetta.locale = current_locale || default_locale\nend"}}],"constructors":[],"instance_methods":[],"macros":[{"html_id":"available_locales-macro","name":"available_locales","doc":"Tries to find the available locales configurad by the user. If it's not set,\nthe available locales defined in the config class is used.","summary":"<p>Tries to find the available locales configurad by the user.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/rosetta/configuration.cr","line_number":14,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/configuration.cr#L14"},"def":{"name":"available_locales","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if Rosetta.has_constant?(\"AVAILABLE_LOCALES\") %}\n      {{ Rosetta::AVAILABLE_LOCALES }}\n    {% else %}\n      {{ Rosetta::Config::AVAILABLE_LOCALES }}\n    {% end %}\n\n  \n"}},{"html_id":"date(format=:default)-macro","name":"date","doc":"Localizes a date, for example:\n\n```\nRosetta.date.t(Time.local)\nRosetta.date.t({2021, 8, 20})\nRosetta.date(:long).l(Time.local)\nRosetta.date(\"%a, %d %b %Y\").l(Time.local.date)\n```","summary":"<p>Localizes a date, for example:</p>","abstract":false,"args":[{"name":"format","doc":null,"default_value":":default","external_name":"format","restriction":""}],"args_string":"(format = :default)","args_html":"(format = <span class=\"n\">:default</span>)","location":{"filename":"src/rosetta/localization.cr","line_number":10,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L10"},"def":{"name":"date","args":[{"name":"format","doc":null,"default_value":":default","external_name":"format","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if format.is_a?(SymbolLiteral) %}\n      format = Rosetta.find(\"rosetta_localization.date.formats.{{ format.id }}\")\n    {% else %}\n      format = {{ format }}\n    {% end %}\n\n\n    Rosetta::LocalizedTime.new(format)\n  \n"}},{"html_id":"default_locale-macro","name":"default_locale","doc":"Tries to find the default locale configurad by the user. If it's not set,\nthe default locale defined in the config class is used.","summary":"<p>Tries to find the default locale configurad by the user.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/rosetta/configuration.cr","line_number":4,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/configuration.cr#L4"},"def":{"name":"default_locale","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if Rosetta.has_constant?(\"DEFAULT_LOCALE\") %}\n      {{ Rosetta::DEFAULT_LOCALE }}\n    {% else %}\n      {{ Rosetta::Config::DEFAULT_LOCALE }}\n    {% end %}\n\n  \n"}},{"html_id":"find(key)-macro","name":"find","doc":"Finds the translations for the given key as a dedicated class instance for\nthe translation, which inherits from `Rosetta::Translation`.\n\nIf the key does not exist, a compile error will be raised.","summary":"<p>Finds the translations for the given key as a dedicated class instance for the translation, which inherits from <code><a href=\"Rosetta/Translation.html\">Rosetta::Translation</a></code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/rosetta/translation.cr","line_number":6,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L6"},"def":{"name":"find","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% class_name_from_key = (key.split('.')).map(&.camelcase).join('_')\ntranslation_class_name = \"#{class_name_from_key.id}Translation\".id\n %}\n\n\n    \n{% if Rosetta::Locales.has_constant?(translation_class_name) %}\n      Rosetta::Locales::{{ translation_class_name.id }}.new\n    {% else %}\n      {% raise(\"Missing translation for #{key} in all locales\") %}\n    {% end %}\n\n  \n"}},{"html_id":"number(format=:default)-macro","name":"number","doc":"Localizes a numeric value, for example:\n\n```\nRosetta.number.t(123_456.789)\nRosetta.number(:custom).l(123_456.789)\n```","summary":"<p>Localizes a numeric value, for example:</p>","abstract":false,"args":[{"name":"format","doc":null,"default_value":":default","external_name":"format","restriction":""}],"args_string":"(format = :default)","args_html":"(format = <span class=\"n\">:default</span>)","location":{"filename":"src/rosetta/localization.cr","line_number":43,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L43"},"def":{"name":"number","args":[{"name":"format","doc":null,"default_value":":default","external_name":"format","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% namespace = \"Rosetta::Locales::RosettaLocalization_Number_Formats\".id\nprefix = \"#{namespace}_#{format.id.camelcase}\".id\n %}\n\n\n    Rosetta::LocalizedNumber.new(\n      separator: \n{{ prefix }}\n_SeparatorTranslation.new.to_s,\n      delimiter: \n{{ prefix }}\n_DelimiterTranslation.new.to_s,\n      decimal_places: \n{{ prefix }}\n_DecimalPlacesTranslation.new.to_s.to_i,\n      group: \n{{ prefix }}\n_GroupTranslation.new.to_s.to_i,\n      only_significant: \n{{ prefix }}\n_OnlySignificantTranslation.new.to_s == \"true\"\n    )\n  \n"}},{"html_id":"time(format=:default)-macro","name":"time","doc":"Localizes time, for example:\n\n```\nRosetta.time.t(Time.local)\nRosetta.time(:short).l(Time.local)\nRosetta.time(\"%d %b %Y %H:%M:%S\").l(Time.local)\n```","summary":"<p>Localizes time, for example:</p>","abstract":false,"args":[{"name":"format","doc":null,"default_value":":default","external_name":"format","restriction":""}],"args_string":"(format = :default)","args_html":"(format = <span class=\"n\">:default</span>)","location":{"filename":"src/rosetta/localization.cr","line_number":27,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L27"},"def":{"name":"time","args":[{"name":"format","doc":null,"default_value":":default","external_name":"format","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if format.is_a?(SymbolLiteral) %}\n      format = Rosetta.find(\"rosetta_localization.time.formats.{{ format.id }}\")\n    {% else %}\n      format = {{ format }}\n    {% end %}\n\n\n    Rosetta::LocalizedTime.new(format)\n  \n"}}],"types":[{"html_id":"Rosetta/Rosetta/Backend","path":"Rosetta/Backend.html","kind":"module","full_name":"Rosetta::Backend","name":"Backend","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/backend.cr","line_number":2,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/backend.cr#L2"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"html_id":"load(path)-macro","name":"load","doc":"Loads the parsed set of locales from the given path. This macro should be\ncalled in an initializer:\n\n```\nRosetta::Backend.load(\"config/locales\")\n```","summary":"<p>Loads the parsed set of locales from the given path.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""}],"args_string":"(path)","args_html":"(path)","location":{"filename":"src/rosetta/backend.cr","line_number":9,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/backend.cr#L9"},"def":{"name":"load","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      \n{% if Rosetta.has_constant?(\"DEFAULT_LOCALE\")\n  default_locale = Rosetta::DEFAULT_LOCALE\nelse\n  default_locale = Rosetta::Config::DEFAULT_LOCALE\nend %}\n\n\n      \n{% if Rosetta.has_constant?(\"AVAILABLE_LOCALES\")\n  available_locales = Rosetta::AVAILABLE_LOCALES\nelse\n  available_locales = Rosetta::Config::AVAILABLE_LOCALES\nend %}\n\n\n      \n{% translations = run(\"./runner\", path, default_locale.id, (available_locales.join(',')).id)\nif !(translations.stringify.starts_with?(\"module Rosetta\"))\n  raise(translations.stringify)\nend\n %}\n\n\n      \n{{ translations }}\n\n    \n"}}],"types":[]},{"html_id":"Rosetta/Rosetta/Builder","path":"Rosetta/Builder.html","kind":"class","full_name":"Rosetta::Builder","name":"Builder","abstract":false,"superclass":{"html_id":"Rosetta/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"Rosetta/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"Rosetta/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/rosetta/parser/builder.cr","line_number":2,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser/builder.cr#L2"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(default_locale:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"default_locale","doc":null,"default_value":"","external_name":"default_locale","restriction":"String"}],"args_string":"(default_locale : String)","args_html":"(default_locale : String)","location":{"filename":"src/rosetta/parser/builder.cr","line_number":5,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser/builder.cr#L5"},"def":{"name":"new","args":[{"name":"default_locale","doc":null,"default_value":"","external_name":"default_locale","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(default_locale)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"build_locales(translations:TranslationsHash)-instance-method","name":"build_locales","doc":"Builds the wrapping module for all translation structs.","summary":"<p>Builds the wrapping module for all translation structs.</p>","abstract":false,"args":[{"name":"translations","doc":null,"default_value":"","external_name":"translations","restriction":"TranslationsHash"}],"args_string":"(translations : TranslationsHash)","args_html":"(translations : <a href=\"../Rosetta/TranslationsHash.html\">TranslationsHash</a>)","location":{"filename":"src/rosetta/parser/builder.cr","line_number":9,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser/builder.cr#L9"},"def":{"name":"build_locales","args":[{"name":"translations","doc":null,"default_value":"","external_name":"translations","restriction":"TranslationsHash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"module Rosetta\\n  module Locales\\n#{(build_structs(translations)).join(\"\\n\")}\\n  end\\nend\""}},{"html_id":"default_locale:String-instance-method","name":"default_locale","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/parser/builder.cr","line_number":3,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser/builder.cr#L3"},"def":{"name":"default_locale","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@default_locale"}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/Config","path":"Rosetta/Config.html","kind":"class","full_name":"Rosetta::Config","name":"Config","abstract":false,"superclass":{"html_id":"Rosetta/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"Rosetta/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"Rosetta/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/rosetta/config.cr","line_number":2,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/config.cr#L2"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"AVAILABLE_LOCALES","name":"AVAILABLE_LOCALES","value":"[:en] of ::Symbol","doc":null,"summary":null},{"id":"DEFAULT_LOCALE","name":"DEFAULT_LOCALE","value":":en","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"locale:String-instance-method","name":"locale","doc":"Gets the current locale or falls back to the default locale if it's not\ndefined.","summary":"<p>Gets the current locale or falls back to the default locale if it's not defined.</p>","abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/config.cr","line_number":21,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/config.cr#L21"},"def":{"name":"locale","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"(@locale || Rosetta.default_locale).to_s"}},{"html_id":"locale=(locale:String|Symbol)-instance-method","name":"locale=","doc":"Sets the current locale with the given value, if it's found in the\navailable locales.","summary":"<p>Sets the current locale with the given value, if it's found in the available locales.</p>","abstract":false,"args":[{"name":"locale","doc":null,"default_value":"","external_name":"locale","restriction":"String | Symbol"}],"args_string":"(locale : String | Symbol)","args_html":"(locale : String | Symbol)","location":{"filename":"src/rosetta/config.cr","line_number":10,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/config.cr#L10"},"def":{"name":"locale=","args":[{"name":"locale","doc":null,"default_value":"","external_name":"locale","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locale = if Rosetta.available_locales.map(&.to_s).includes?(locale.to_s)\n  locale.to_s\nelse\n  Rosetta.default_locale\nend"}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/Fallbacks","path":"Rosetta/Fallbacks.html","kind":"alias","full_name":"Rosetta::Fallbacks","name":"Fallbacks","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/aliases.cr","line_number":2,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/aliases.cr#L2"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":true,"aliased":"(Array(String) | Hash(String, Array(String) | String) | Nil)","aliased_html":"Array(String) | Hash(String, Array(String) | String) | Nil","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/InterpolatedTranslation","path":"Rosetta/InterpolatedTranslation.html","kind":"module","full_name":"Rosetta::InterpolatedTranslation","name":"InterpolatedTranslation","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/translation.cr","line_number":58,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L58"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":"Methods for translations with interpolations.","summary":"<p>Methods for translations with interpolations.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"t_hash(values:Hash(String|Symbol,String))-instance-method","name":"t_hash","doc":"Using a hash for interpolation is considered unsafe since the content of\nhashes can't be checked at compile-time. Try to avoid using this method if\nyou can.","summary":"<p>Using a hash for interpolation is considered unsafe since the content of hashes can't be checked at compile-time.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String | Symbol, String)"}],"args_string":"(values : Hash(String | Symbol, String))","args_html":"(values : Hash(String | Symbol, String))","location":{"filename":"src/rosetta/translation.cr","line_number":67,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L67"},"def":{"name":"t_hash","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String | Symbol, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Rosetta.interpolate(raw, values)"}},{"html_id":"to_s(io)-instance-method","name":"to_s","doc":"Alias to_s to raise a compile error.","summary":"<p>Alias to_s to raise a compile error.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/rosetta/translation.cr","line_number":60,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L60"},"def":{"name":"to_s","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_s"}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/Localizable","path":"Rosetta/Localizable.html","kind":"module","full_name":"Rosetta::Localizable","name":"Localizable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/localizable.cr","line_number":3,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localizable.cr#L3"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":"Include this module in any class where you need to localize many values.","summary":"<p>Include this module in any class where you need to localize many values.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"html_id":"r_date(format)-macro","name":"r_date","doc":"Finds the translations for a given format to localize a date","summary":"<p>Finds the translations for a given format to localize a date</p>","abstract":false,"args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"args_string":"(format)","args_html":"(format)","location":{"filename":"src/rosetta/localizable.cr","line_number":5,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localizable.cr#L5"},"def":{"name":"r_date","args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Rosetta.date(\n{{ format }}\n)\n    \n"}},{"html_id":"r_number(format)-macro","name":"r_number","doc":"Finds the translations for a given format to localize a number","summary":"<p>Finds the translations for a given format to localize a number</p>","abstract":false,"args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"args_string":"(format)","args_html":"(format)","location":{"filename":"src/rosetta/localizable.cr","line_number":15,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localizable.cr#L15"},"def":{"name":"r_number","args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Rosetta.number(\n{{ format }}\n)\n    \n"}},{"html_id":"r_time(format)-macro","name":"r_time","doc":"Finds the translations for a given format to localize a time","summary":"<p>Finds the translations for a given format to localize a time</p>","abstract":false,"args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"args_string":"(format)","args_html":"(format)","location":{"filename":"src/rosetta/localizable.cr","line_number":10,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localizable.cr#L10"},"def":{"name":"r_time","args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Rosetta.time(\n{{ format }}\n)\n    \n"}}],"types":[]},{"html_id":"Rosetta/Rosetta/LocalizedNumber","path":"Rosetta/LocalizedNumber.html","kind":"struct","full_name":"Rosetta::LocalizedNumber","name":"LocalizedNumber","abstract":false,"superclass":{"html_id":"Rosetta/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"Rosetta/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"Rosetta/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"Rosetta/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/rosetta/localization.cr","line_number":174,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L174"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":"LocalizedNumber is similar to a Translation object; it implements a similar\ninterface but its sole purpose is to localize numeric objects.","summary":"<p>LocalizedNumber is similar to a Translation object; it implements a similar interface but its sole purpose is to localize numeric objects.</p>","class_methods":[],"constructors":[{"html_id":"new(separator:String|Char,delimiter:String|Char,decimal_places:Int32,group:Int32,only_significant:Bool)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"separator","doc":null,"default_value":"","external_name":"separator","restriction":"String | Char"},{"name":"delimiter","doc":null,"default_value":"","external_name":"delimiter","restriction":"String | Char"},{"name":"decimal_places","doc":null,"default_value":"","external_name":"decimal_places","restriction":"Int32"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"Int32"},{"name":"only_significant","doc":null,"default_value":"","external_name":"only_significant","restriction":"Bool"}],"args_string":"(separator : String | Char, delimiter : String | Char, decimal_places : Int32, group : Int32, only_significant : Bool)","args_html":"(separator : String | Char, delimiter : String | Char, decimal_places : Int32, group : Int32, only_significant : Bool)","location":{"filename":"src/rosetta/localization.cr","line_number":175,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L175"},"def":{"name":"new","args":[{"name":"separator","doc":null,"default_value":"","external_name":"separator","restriction":"String | Char"},{"name":"delimiter","doc":null,"default_value":"","external_name":"delimiter","restriction":"String | Char"},{"name":"decimal_places","doc":null,"default_value":"","external_name":"decimal_places","restriction":"Int32"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"Int32"},{"name":"only_significant","doc":null,"default_value":"","external_name":"only_significant","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(separator, delimiter, decimal_places, group, only_significant)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"l(number:Number,separator:String|Char=@separator,delimiter:String|Char=@delimiter,decimal_places:Int32=@decimal_places,group:Int32=@group,only_significant:Bool=@only_significant)-instance-method","name":"l","doc":null,"summary":null,"abstract":false,"args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":"Number"},{"name":"separator","doc":null,"default_value":"@separator","external_name":"separator","restriction":"String | Char"},{"name":"delimiter","doc":null,"default_value":"@delimiter","external_name":"delimiter","restriction":"String | Char"},{"name":"decimal_places","doc":null,"default_value":"@decimal_places","external_name":"decimal_places","restriction":"Int32"},{"name":"group","doc":null,"default_value":"@group","external_name":"group","restriction":"Int32"},{"name":"only_significant","doc":null,"default_value":"@only_significant","external_name":"only_significant","restriction":"Bool"}],"args_string":"(number : Number, separator : String | Char = @separator, delimiter : String | Char = @delimiter, decimal_places : Int32 = @decimal_places, group : Int32 = @group, only_significant : Bool = @only_significant)","args_html":"(number : Number, separator : String | Char = @separator, delimiter : String | Char = @delimiter, decimal_places : Int32 = @decimal_places, group : Int32 = @group, only_significant : Bool = @only_significant)","location":{"filename":"src/rosetta/localization.cr","line_number":184,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L184"},"def":{"name":"l","args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":"Number"},{"name":"separator","doc":null,"default_value":"@separator","external_name":"separator","restriction":"String | Char"},{"name":"delimiter","doc":null,"default_value":"@delimiter","external_name":"delimiter","restriction":"String | Char"},{"name":"decimal_places","doc":null,"default_value":"@decimal_places","external_name":"decimal_places","restriction":"Int32"},{"name":"group","doc":null,"default_value":"@group","external_name":"group","restriction":"Int32"},{"name":"only_significant","doc":null,"default_value":"@only_significant","external_name":"only_significant","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"number.format(separator: separator, delimiter: delimiter, decimal_places: decimal_places, group: group, only_significant: only_significant)"}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/LocalizedTime","path":"Rosetta/LocalizedTime.html","kind":"struct","full_name":"Rosetta::LocalizedTime","name":"LocalizedTime","abstract":false,"superclass":{"html_id":"Rosetta/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"Rosetta/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"Rosetta/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"Rosetta/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/rosetta/localization.cr","line_number":153,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L153"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":"LocalizedTime is similar to a Translation object; it implements a similar\ninterface but its sole purpose is to localize time objects.","summary":"<p>LocalizedTime is similar to a Translation object; it implements a similar interface but its sole purpose is to localize time objects.</p>","class_methods":[],"constructors":[{"html_id":"new(format:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":"String"}],"args_string":"(format : String)","args_html":"(format : String)","location":{"filename":"src/rosetta/localization.cr","line_number":160,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L160"},"def":{"name":"new","args":[{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(format)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(translation:Translation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"translation","doc":null,"default_value":"","external_name":"translation","restriction":"Translation"}],"args_string":"(translation : Translation)","args_html":"(translation : <a href=\"../Rosetta/Translation.html\">Translation</a>)","location":{"filename":"src/rosetta/localization.cr","line_number":156,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L156"},"def":{"name":"new","args":[{"name":"translation","doc":null,"default_value":"","external_name":"translation","restriction":"Translation"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(translation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"format:String-instance-method","name":"format","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/localization.cr","line_number":154,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L154"},"def":{"name":"format","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@format"}},{"html_id":"l(time:Time)-instance-method","name":"l","doc":null,"summary":null,"abstract":false,"args":[{"name":"time","doc":null,"default_value":"","external_name":"time","restriction":"Time"}],"args_string":"(time : Time)","args_html":"(time : Time)","location":{"filename":"src/rosetta/localization.cr","line_number":163,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L163"},"def":{"name":"l","args":[{"name":"time","doc":null,"default_value":"","external_name":"time","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Rosetta.localize_time(format, time)"}},{"html_id":"l(date:Tuple(Int32,Int32,Int32))-instance-method","name":"l","doc":null,"summary":null,"abstract":false,"args":[{"name":"date","doc":null,"default_value":"","external_name":"date","restriction":"Tuple(Int32, Int32, Int32)"}],"args_string":"(date : Tuple(Int32, Int32, Int32))","args_html":"(date : Tuple(Int32, Int32, Int32))","location":{"filename":"src/rosetta/localization.cr","line_number":167,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/localization.cr#L167"},"def":{"name":"l","args":[{"name":"date","doc":null,"default_value":"","external_name":"date","restriction":"Tuple(Int32, Int32, Int32)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Rosetta.localize_time(format, Time.local(*date))"}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/Lucky","path":"Rosetta/Lucky.html","kind":"module","full_name":"Rosetta::Lucky","name":"Lucky","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/lucky/integration.cr","line_number":2,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/lucky/integration.cr#L2"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"html_id":"integrate-macro","name":"integrate","doc":"Includes `Rosetta::Translatable` where it may be required.","summary":"<p>Includes <code><a href=\"../Rosetta/Translatable.html\">Rosetta::Translatable</a></code> where it may be required.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/rosetta/lucky/integration.cr","line_number":4,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/lucky/integration.cr#L4"},"def":{"name":"integrate","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      \n{% targets = {\"Avram::Model\", \"Avram::Operation\", \"Lucky::Action\", \"Lucky::BaseComponent\"} %}\n\n\n      \n{% for target in targets %}\n        abstract class ::{{ target.id }}\n          include Rosetta::Translatable\n        end\n      {% end %}\n\n\n      module ::Lucky::HTMLPage\n        macro included\n          include Rosetta::Translatable\n        \nend\n      \nend\n    \n"}}],"types":[]},{"html_id":"Rosetta/Rosetta/Parser","path":"Rosetta/Parser.html","kind":"class","full_name":"Rosetta::Parser","name":"Parser","abstract":false,"superclass":{"html_id":"Rosetta/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"Rosetta/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"Rosetta/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/rosetta/parser.cr","line_number":9,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L9"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(path:String,default_locale:String|Symbol,available_locales:Array(String|Symbol))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"default_locale","doc":null,"default_value":"","external_name":"default_locale","restriction":"String | Symbol"},{"name":"available_locales","doc":null,"default_value":"","external_name":"available_locales","restriction":"Array(String | Symbol)"}],"args_string":"(path : String, default_locale : String | Symbol, available_locales : Array(String | Symbol))","args_html":"(path : String, default_locale : String | Symbol, available_locales : Array(String | Symbol))","location":{"filename":"src/rosetta/parser.cr","line_number":19,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L19"},"def":{"name":"new","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"default_locale","doc":null,"default_value":"","external_name":"default_locale","restriction":"String | Symbol"},{"name":"available_locales","doc":null,"default_value":"","external_name":"available_locales","restriction":"Array(String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(path, default_locale, available_locales)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"alternative_locales:Array(String)-instance-method","name":"alternative_locales","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","args_html":" : Array(String)","location":{"filename":"src/rosetta/parser.cr","line_number":10,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L10"},"def":{"name":"alternative_locales","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@alternative_locales"}},{"html_id":"available_locales:Array(String)-instance-method","name":"available_locales","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","args_html":" : Array(String)","location":{"filename":"src/rosetta/parser.cr","line_number":11,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L11"},"def":{"name":"available_locales","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@available_locales"}},{"html_id":"default_locale:String-instance-method","name":"default_locale","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/parser.cr","line_number":12,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L12"},"def":{"name":"default_locale","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@default_locale"}},{"html_id":"error:String?-instance-method","name":"error","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","args_html":" : String?","location":{"filename":"src/rosetta/parser.cr","line_number":13,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L13"},"def":{"name":"error","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@error"}},{"html_id":"load!:Void-instance-method","name":"load!","doc":"Loads and parses JSON files, then YAML files, adds them to the list of\ntranslations.","summary":"<p>Loads and parses JSON files, then YAML files, adds them to the list of translations.</p>","abstract":false,"args":[],"args_string":" : Void","args_html":" : Void","location":{"filename":"src/rosetta/parser.cr","line_number":44,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L44"},"def":{"name":"load!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Void","visibility":"Public","body":"Dir.glob(\"#{path}/**/*.json\") do |file|\n  (JSON.parse(File.read(file))).as_h.each do |locale, locale_data|\n    if (available_locales.includes?(locale.to_s)) && locale_data.as_h?\n    else\n      next\n    end\n    add_translations(locale.to_s, locale_data)\n  end\nend\nDir.glob(\"#{path}/**/*.yml\", \"#{path}/**/*.yaml\") do |file|\n  (YAML.parse(File.read(file))).as_h.each do |locale, locale_data|\n    if (available_locales.includes?(locale.to_s)) && locale_data.as_h?\n    else\n      next\n    end\n    add_translations(locale.to_s, locale_data)\n  end\nend\n"}},{"html_id":"parse!:String-instance-method","name":"parse!","doc":"Returns a list of self-containing translation modules.","summary":"<p>Returns a list of self-containing translation modules.</p>","abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/parser.cr","line_number":30,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L30"},"def":{"name":"parse!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"load!\nif valid?\nelse\n  return error.to_s\nend\nbuilder = Builder.new(default_locale)\nif translations.empty?\n  return builder.build_locales(TranslationsHash.new)\nend\nbuilder.build_locales(flipped_translations)\n"}},{"html_id":"path:String-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/parser.cr","line_number":15,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L15"},"def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@path"}},{"html_id":"translations:Hash(String,Hash(String,String))-instance-method","name":"translations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Hash(String, String))","args_html":" : Hash(String, Hash(String, String))","location":{"filename":"src/rosetta/parser.cr","line_number":17,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L17"},"def":{"name":"translations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@translations"}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/SimpleTranslation","path":"Rosetta/SimpleTranslation.html","kind":"module","full_name":"Rosetta::SimpleTranslation","name":"SimpleTranslation","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/translation.cr","line_number":39,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L39"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":"Methods for translations without interpolations.","summary":"<p>Methods for translations without interpolations.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"t-instance-method","name":"t","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/rosetta/translation.cr","line_number":44,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L44"},"def":{"name":"t","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raw"}},{"html_id":"to_s(io)-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/rosetta/translation.cr","line_number":52,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L52"},"def":{"name":"to_s","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io.puts(raw)"}},{"html_id":"to_s-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/rosetta/translation.cr","line_number":48,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L48"},"def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raw"}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/Translatable","path":"Rosetta/Translatable.html","kind":"module","full_name":"Rosetta::Translatable","name":"Translatable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/translatable.cr","line_number":3,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translatable.cr#L3"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":"Include this module in any class where you need to translate many keys.","summary":"<p>Include this module in any class where you need to translate many keys.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"html_id":"r(key)-macro","name":"r","doc":"Finds the translation for the given key. If the given key starts with a\n\".\", a prefix based on the current class name will be used. Unless the\nconstant ROSETTA_PREFIX is defined, which will then be used instead.","summary":"<p>Finds the translation for the given key.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/rosetta/translatable.cr","line_number":7,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translatable.cr#L7"},"def":{"name":"r","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      \n{% if key.starts_with?('.')\n  if @type.has_constant?(\"ROSETTA_PREFIX\")\n    key = \"#{ROSETTA_PREFIX.id}#{key.id}\"\n  else\n    key = \"#{(@type.id.underscore.gsub(/::/, \".\")).id}#{key.id}\"\n  end\nend %}\n\n\n      Rosetta.find(\n{{ key }}\n)\n    \n"}}],"types":[]},{"html_id":"Rosetta/Rosetta/Translation","path":"Rosetta/Translation.html","kind":"struct","full_name":"Rosetta::Translation","name":"Translation","abstract":true,"superclass":{"html_id":"Rosetta/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"Rosetta/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"Rosetta/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"Rosetta/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/rosetta/translation.cr","line_number":29,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L29"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":"Base struct for translation values.","summary":"<p>Base struct for translation values.</p>","class_methods":[],"constructors":[{"html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/rosetta/translation.cr","line_number":29,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L29"},"def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"html_id":"raw:String-instance-method","name":"raw","doc":"Return the raw translation value for the current locale.","summary":"<p>Return the raw translation value for the current locale.</p>","abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/rosetta/translation.cr","line_number":33,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L33"},"def":{"name":"raw","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"translations[Rosetta.locale]"}},{"html_id":"translations-instance-method","name":"translations","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","args_html":"","location":{"filename":"src/rosetta/translation.cr","line_number":30,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/translation.cr#L30"},"def":{"name":"translations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/Translations","path":"Rosetta/Translations.html","kind":"alias","full_name":"Rosetta::Translations","name":"Translations","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/parser.cr","line_number":6,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L6"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":true,"aliased":"Hash(String, String)","aliased_html":"Hash(String, String)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"Rosetta/Rosetta/TranslationsHash","path":"Rosetta/TranslationsHash.html","kind":"alias","full_name":"Rosetta::TranslationsHash","name":"TranslationsHash","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/rosetta/parser.cr","line_number":7,"url":"https://github.com/wout/rosetta/blob/a8466e0d/src/rosetta/parser.cr#L7"}],"repository_name":"Rosetta","program":false,"enum":false,"alias":true,"aliased":"Hash(String, Hash(String, String))","aliased_html":"Hash(String, Hash(String, String))","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"Rosetta/Rosetta","kind":"module","full_name":"Rosetta","name":"Rosetta"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]}})